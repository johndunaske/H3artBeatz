{"ast":null,"code":"import _classCallCheck from\"/Users/johnduna/Documents/GitHub/H3artBeatz/heartbeats-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/johnduna/Documents/GitHub/H3artBeatz/heartbeats-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/johnduna/Documents/GitHub/H3artBeatz/heartbeats-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/johnduna/Documents/GitHub/H3artBeatz/heartbeats-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import\"./App.css\";import React from\"react\";import HomeComponent from\"./Components/HomePage\";import LoginPage from\"./Components/LoginPage\";import Cookies from\"universal-cookie\";import{BrowserRouter as Router,Route,Routes}from\"react-router-dom\";import PlaylistPage from\"./Components/PlaylistPage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cookies=new Cookies();var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.getPlaylists=function(){fetch(\"https://api.spotify.com/v1/me/playlists\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",'Authorization':'Bearer '+_this.state.token}}).then(function(response){return response.json();}).then(function(data){_this.setState({playlists:data.items});});};_this.setFavoritePlaylist=function(playlistURL){_this.setState({favoritePlaylist:playlistURL});};_this.setToken=function(token){cookies.set('spotifyToken',token,{path:'/'});_this.setState({token:token});};_this.removeToken=function(){cookies.remove('spotifyToken');_this.setState({'token':null});};_this.state={token:cookies.get('spotifyToken'),playlists:[],favoritePlaylist:null};return _this;}_createClass(App,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/playlist\",element:/*#__PURE__*/_jsx(PlaylistPage,{playlistMethod:this.getPlaylists,playlists:this.state.playlists,favoritePlaylist:this.setFavoritePlaylist})}),this.state.token!=null?/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomeComponent,{signout:this.removeToken,token:this.state.token,fPlaylist:this.state.favoritePlaylist})}):/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(LoginPage,{updateToken:this.setToken})})]})})});}}]);return App;}(React.Component);export{App as default};","map":{"version":3,"sources":["/Users/johnduna/Documents/GitHub/H3artBeatz/heartbeats-frontend/src/App.jsx"],"names":["React","HomeComponent","LoginPage","Cookies","BrowserRouter","Router","Route","Routes","PlaylistPage","cookies","App","props","getPlaylists","fetch","method","headers","state","token","then","response","json","data","setState","playlists","items","setFavoritePlaylist","playlistURL","favoritePlaylist","setToken","set","path","removeToken","remove","get","Component"],"mappings":"wsBAAA,MAAO,WAAP,CACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,uBAA1B,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,KAAlC,CAAyCC,MAAzC,KAAuD,kBAAvD,CACA,MAAOC,CAAAA,YAAP,KAAyB,2BAAzB,C,wFAEA,GAAMC,CAAAA,OAAO,CAAG,GAAIN,CAAAA,OAAJ,EAAhB,C,GAEqBO,CAAAA,G,sGACnB,aAAYC,KAAZ,CAAmB,qCACjB,uBAAMA,KAAN,EADiB,MASnBC,YATmB,CASJ,UAAM,CACnBC,KAAK,CAAC,yCAAD,CAA4C,CAC/CC,MAAM,CAAC,KADwC,CAE/CC,OAAO,CAAC,CACN,eAAgB,kBADV,CAEN,gBAAiB,UAAY,MAAKC,KAAL,CAAWC,KAFlC,CAFuC,CAA5C,CAAL,CAKIC,IALJ,CAKS,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EALT,EAMCF,IAND,CAMM,SAACG,IAAD,CAAU,CACd,MAAKC,QAAL,CAAc,CAACC,SAAS,CAAEF,IAAI,CAACG,KAAjB,CAAd,EACD,CARD,EASD,CAnBkB,OAqBnBC,mBArBmB,CAqBG,SAACC,WAAD,CAAiB,CACrC,MAAKJ,QAAL,CAAc,CAACK,gBAAgB,CAAGD,WAApB,CAAd,EACD,CAvBkB,OAyBnBE,QAzBmB,CAyBR,SAACX,KAAD,CAAW,CACpBR,OAAO,CAACoB,GAAR,CAAY,cAAZ,CAA4BZ,KAA5B,CAAmC,CAACa,IAAI,CAAC,GAAN,CAAnC,EACA,MAAKR,QAAL,CAAc,CAACL,KAAK,CAAEA,KAAR,CAAd,EACD,CA5BkB,OA8BnBc,WA9BmB,CA8BL,UAAM,CAClBtB,OAAO,CAACuB,MAAR,CAAe,cAAf,EACA,MAAKV,QAAL,CAAc,CAAC,QAAS,IAAV,CAAd,EACD,CAjCkB,CAEjB,MAAKN,KAAL,CAAa,CACXC,KAAK,CAAER,OAAO,CAACwB,GAAR,CAAY,cAAZ,CADI,CAEXV,SAAS,CAAE,EAFA,CAGXI,gBAAgB,CAAC,IAHN,CAAb,CAFiB,aAOlB,C,sCA4BD,iBAAS,CACP,mBAAO,YAAK,SAAS,CAAC,KAAf,uBACL,KAAC,MAAD,wBACE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,CAAwB,OAAO,cAAE,KAAC,YAAD,EAAc,cAAc,CAAE,KAAKf,YAAnC,CAAiD,SAAS,CAAE,KAAKI,KAAL,CAAWO,SAAvE,CAAkF,gBAAgB,CAAE,KAAKE,mBAAzG,EAAjC,EADF,CAEG,KAAKT,KAAL,CAAWC,KAAX,EAAoB,IAApB,cACD,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,cAAE,KAAC,aAAD,EAAe,OAAO,CAAE,KAAKc,WAA7B,CAA0C,KAAK,CAAE,KAAKf,KAAL,CAAWC,KAA5D,CAAmE,SAAS,CAAE,KAAKD,KAAL,CAAWW,gBAAzF,EAAzB,EADC,cAED,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,cAAE,KAAC,SAAD,EAAW,WAAW,CAAE,KAAKC,QAA7B,EAAzB,EAJF,GADF,EADK,EAAP,CAWD,C,iBAhD8B5B,KAAK,CAACkC,S,SAAlBxB,G","sourcesContent":["import \"./App.css\";\nimport React from \"react\";\nimport HomeComponent from \"./Components/HomePage\";\nimport LoginPage from \"./Components/LoginPage\";\nimport Cookies from \"universal-cookie\";\nimport { BrowserRouter as Router, Route, Routes } from \"react-router-dom\";\nimport PlaylistPage from \"./Components/PlaylistPage\";\n\nconst cookies = new Cookies()\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: cookies.get('spotifyToken'),\n      playlists: [],\n      favoritePlaylist:null\n    }\n  }\n\n  getPlaylists = () => {\n    fetch(\"https://api.spotify.com/v1/me/playlists\", {\n      method:\"GET\",\n      headers:{\n        \"Content-Type\": \"application/json\",\n        'Authorization': 'Bearer ' + this.state.token,\n    }}).then((response) => response.json())\n    .then((data) => {\n      this.setState({playlists: data.items});\n    })\n  }\n\n  setFavoritePlaylist = (playlistURL) => {\n    this.setState({favoritePlaylist : playlistURL});\n  }\n\n  setToken = (token) => {\n    cookies.set('spotifyToken', token, {path:'/'});\n    this.setState({token: token});\n  }\n\n  removeToken = () => {\n    cookies.remove('spotifyToken');\n    this.setState({'token': null});\n  }\n\n  render() {\n    return <div className=\"App\">\n      <Router>\n        <Routes>\n          <Route path=\"/playlist\" element={<PlaylistPage playlistMethod={this.getPlaylists} playlists={this.state.playlists} favoritePlaylist={this.setFavoritePlaylist}/>}/>\n          {this.state.token != null ? \n          <Route path=\"/\" element={<HomeComponent signout={this.removeToken} token={this.state.token} fPlaylist={this.state.favoritePlaylist}/>}/> :\n          <Route path=\"/\" element={<LoginPage updateToken={this.setToken}/>}/>}\n        </Routes>\n      </Router>\n\n    </div>;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}