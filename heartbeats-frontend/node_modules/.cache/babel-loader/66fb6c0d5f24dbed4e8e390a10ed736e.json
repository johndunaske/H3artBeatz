{"ast":null,"code":"import _classCallCheck from\"/Users/johnduna/Documents/GitHub/H3artBeatz/heartbeats-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/johnduna/Documents/GitHub/H3artBeatz/heartbeats-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/johnduna/Documents/GitHub/H3artBeatz/heartbeats-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/johnduna/Documents/GitHub/H3artBeatz/heartbeats-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import GraphComponent from\"./GraphComponent\";import defaultImage from\"../Assets/testImage.jpg\";import TopBar from\"./TopBar\";import SpotifyPlayer from\"react-spotify-web-playback\";// props:\n// signout: function to remove spotify auth token cookie\n// token: spotify token\n// fPlaylist: favorite playlist\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HomePage=/*#__PURE__*/function(_React$Component){_inherits(HomePage,_React$Component);var _super=_createSuper(HomePage);function HomePage(props){var _this;_classCallCheck(this,HomePage);_this=_super.call(this,props);_this.componentDidMount=function(){if(_this.state.favoritePlaylistId==null||_this.state.favoritePlaylistLink==null){return;}else{console.log(_this.state);_this.setState({tracks:[\"fdsaf\"]});// var url =\n//   \"https://api.spotify.com/v1/playlists/\" +\n//   this.state.favoritePlaylistId +\n//   \"/tracks\";\n// fetch(url, {\n//   method: \"GET\",\n//   headers: {\n//     \"Content-Type\": \"application/json\",\n//     Authorization: \"Bearer \" + this.props.token,\n//   },\n// })\n//   .then((response) => response.json())\n//.then((data) => {this.setState({ tracks: data.items })});\nconsole.log(_this.state.tracks);}};_this.displayAlbum=function(state){if(state&&state.track&&state.track.image){_this.setState({albumCover:state.track.image});}};_this.state={tracks:[],bpmMap:{},favoritePlaylistLink:_this.props.fPlaylist!=null?_this.props.fPlaylist.uri:\"spotify:artist:6HQYnRM4OzToCYPpVBInuU\",favoritePlaylistId:_this.props.fPlaylist!=null?_this.props.fPlaylist.id:null,albumCover:defaultImage};return _this;}_createClass(HomePage,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"mainContent\",children:[/*#__PURE__*/_jsx(TopBar,{logout:this.props.signout}),/*#__PURE__*/_jsx(\"div\",{className:\"currentSong\",children:this.state.currentSong}),/*#__PURE__*/_jsx(\"div\",{className:\"albumContainer\",children:/*#__PURE__*/_jsx(\"img\",{className:\"albumCover\",src:this.state.albumCover,alt:defaultImage})}),/*#__PURE__*/_jsx(GraphComponent,{}),/*#__PURE__*/_jsx(SpotifyPlayer,{token:this.props.token,callback:this.displayAlbum,uris:[this.state.favoritePlaylistLink],styles:{bgColor:\"#000\",sliderColor:\"#ff6384\",trackArtistColor:\"#fff\",trackNameColor:\"#fff\",color:\"#fff\"}})]});}}]);return HomePage;}(React.Component);export{HomePage as default};","map":{"version":3,"sources":["/Users/johnduna/Documents/GitHub/H3artBeatz/heartbeats-frontend/src/Components/HomePage.jsx"],"names":["React","GraphComponent","defaultImage","TopBar","SpotifyPlayer","HomePage","props","componentDidMount","state","favoritePlaylistId","favoritePlaylistLink","console","log","setState","tracks","displayAlbum","track","image","albumCover","bpmMap","fPlaylist","uri","id","signout","currentSong","token","bgColor","sliderColor","trackArtistColor","trackNameColor","color","Component"],"mappings":"wsBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,YAAP,KAAyB,yBAAzB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,4BAA1B,CAEA;AACA;AACA;AACA;2FACqBC,CAAAA,Q,gHACnB,kBAAYC,KAAZ,CAAmB,0CACjB,uBAAMA,KAAN,EADiB,MAiBnBC,iBAjBmB,CAiBC,UAAM,CACxB,GACE,MAAKC,KAAL,CAAWC,kBAAX,EAAiC,IAAjC,EACA,MAAKD,KAAL,CAAWE,oBAAX,EAAmC,IAFrC,CAGE,CACA,OACD,CALD,IAKO,CACLC,OAAO,CAACC,GAAR,CAAY,MAAKJ,KAAjB,EACA,MAAKK,QAAL,CAAc,CAACC,MAAM,CAAE,CAAC,OAAD,CAAT,CAAd,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACAH,OAAO,CAACC,GAAR,CAAY,MAAKJ,KAAL,CAAWM,MAAvB,EACH,CACF,CAzCkB,OA+DnBC,YA/DmB,CA+DJ,SAACP,KAAD,CAAW,CACxB,GAAIA,KAAK,EAAIA,KAAK,CAACQ,KAAf,EAAwBR,KAAK,CAACQ,KAAN,CAAYC,KAAxC,CAA+C,CAC7C,MAAKJ,QAAL,CAAc,CAAEK,UAAU,CAAEV,KAAK,CAACQ,KAAN,CAAYC,KAA1B,CAAd,EACD,CACF,CAnEkB,CAGjB,MAAKT,KAAL,CAAa,CAEXM,MAAM,CAAE,EAFG,CAGXK,MAAM,CAAE,EAHG,CAIXT,oBAAoB,CAClB,MAAKJ,KAAL,CAAWc,SAAX,EAAwB,IAAxB,CACI,MAAKd,KAAL,CAAWc,SAAX,CAAqBC,GADzB,CAEI,uCAPK,CAQXZ,kBAAkB,CAChB,MAAKH,KAAL,CAAWc,SAAX,EAAwB,IAAxB,CAA+B,MAAKd,KAAL,CAAWc,SAAX,CAAqBE,EAApD,CAAyD,IAThD,CAUXJ,UAAU,CAAEhB,YAVD,CAAb,CAHiB,aAelB,C,2CAsDD,iBAAS,CACP,mBACE,aAAK,SAAS,CAAC,aAAf,wBACE,KAAC,MAAD,EAAQ,MAAM,CAAE,KAAKI,KAAL,CAAWiB,OAA3B,EADF,cAEE,YAAK,SAAS,CAAC,aAAf,UAA8B,KAAKf,KAAL,CAAWgB,WAAzC,EAFF,cAGE,YAAK,SAAS,CAAC,gBAAf,uBACE,YACE,SAAS,CAAC,YADZ,CAEE,GAAG,CAAE,KAAKhB,KAAL,CAAWU,UAFlB,CAGE,GAAG,CAAEhB,YAHP,EADF,EAHF,cAUE,KAAC,cAAD,IAVF,cAWE,KAAC,aAAD,EACE,KAAK,CAAE,KAAKI,KAAL,CAAWmB,KADpB,CAEE,QAAQ,CAAE,KAAKV,YAFjB,CAGE,IAAI,CAAE,CAAC,KAAKP,KAAL,CAAWE,oBAAZ,CAHR,CAIE,MAAM,CAAE,CACNgB,OAAO,CAAE,MADH,CAENC,WAAW,CAAE,SAFP,CAGNC,gBAAgB,CAAE,MAHZ,CAINC,cAAc,CAAE,MAJV,CAKNC,KAAK,CAAE,MALD,CAJV,EAXF,GADF,CA0BD,C,sBAjGmC9B,KAAK,CAAC+B,S,SAAvB1B,Q","sourcesContent":["import React from \"react\";\nimport GraphComponent from \"./GraphComponent\";\nimport defaultImage from \"../Assets/testImage.jpg\";\nimport TopBar from \"./TopBar\";\nimport SpotifyPlayer from \"react-spotify-web-playback\";\n\n// props:\n// signout: function to remove spotify auth token cookie\n// token: spotify token\n// fPlaylist: favorite playlist\nexport default class HomePage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\n      tracks: [],\n      bpmMap: {},\n      favoritePlaylistLink:\n        this.props.fPlaylist != null\n          ? this.props.fPlaylist.uri\n          : \"spotify:artist:6HQYnRM4OzToCYPpVBInuU\",\n      favoritePlaylistId:\n        this.props.fPlaylist != null ? this.props.fPlaylist.id : null,\n      albumCover: defaultImage,\n    };\n  }\n\n  componentDidMount = () => {\n    if (\n      this.state.favoritePlaylistId == null ||\n      this.state.favoritePlaylistLink == null\n    ) {\n      return;\n    } else {\n      console.log(this.state)\n      this.setState({tracks: [\"fdsaf\"]});\n      // var url =\n      //   \"https://api.spotify.com/v1/playlists/\" +\n      //   this.state.favoritePlaylistId +\n      //   \"/tracks\";\n      // fetch(url, {\n      //   method: \"GET\",\n      //   headers: {\n      //     \"Content-Type\": \"application/json\",\n      //     Authorization: \"Bearer \" + this.props.token,\n      //   },\n      // })\n      //   .then((response) => response.json())\n        //.then((data) => {this.setState({ tracks: data.items })});\n        console.log(this.state.tracks);\n    }\n  };\n  // var url =\n  //   \"https://api.spotify.com/v1/audio-features?ids=\" + idList.join();\n  // fetch(url, {\n  //   method: \"GET\",\n  //   headers: {\n  //     \"Content-Type\": \"application/json\",\n  //     Authorization: \"Bearer \" + this.props.token,\n  //   },\n  // })\n  //   .then((response) => response.json())\n  //   .then((data) => {\n  //     var createMap = {}\n  //     data.audio_features.forEach((track) => {\n  //       var tempo = track.tempo;\n  //       createMap[tempo] = track.uri;\n  //     })\n  //     return createMap\n  //     }).then((finished) => {\n  //       return finished\n  //     })\n\n  displayAlbum = (state) => {\n    if (state && state.track && state.track.image) {\n      this.setState({ albumCover: state.track.image });\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"mainContent\">\n        <TopBar logout={this.props.signout} />\n        <div className=\"currentSong\">{this.state.currentSong}</div>\n        <div className=\"albumContainer\">\n          <img\n            className=\"albumCover\"\n            src={this.state.albumCover}\n            alt={defaultImage}\n          ></img>\n        </div>\n        <GraphComponent />\n        <SpotifyPlayer\n          token={this.props.token}\n          callback={this.displayAlbum}\n          uris={[this.state.favoritePlaylistLink]}\n          styles={{\n            bgColor: \"#000\",\n            sliderColor: \"#ff6384\",\n            trackArtistColor: \"#fff\",\n            trackNameColor: \"#fff\",\n            color: \"#fff\",\n          }}\n        />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}