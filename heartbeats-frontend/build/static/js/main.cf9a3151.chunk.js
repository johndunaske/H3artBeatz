(this["webpackJsonpheartbeats-frontend"]=this["webpackJsonpheartbeats-frontend"]||[]).push([[0],{35:function(t,e,a){},36:function(t,e,a){},39:function(t,e,a){"use strict";a.r(e);var s=a(0),n=a.n(s),i=a(18),r=a.n(i),c=(a(35),a(2)),o=a(3),l=a(5),d=a(4),u=(a(36),a(7)),p=a(28),h=a(1),j=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var s;return Object(c.a)(this,a),(s=e.call(this,t)).addItem=function(){var t=0,e=0,a=0,n=0;s.state.hrReadings.length>=s.state.maxReadings?(t=s.state.hrReadings[9],e=s.state.xAxis[9],a=s.state.hrReadings.slice(1).concat(t+20),n=s.state.xAxis.slice(1).concat(e+.5)):(t=s.state.hrReadings[s.state.hrReadings.length-1],e=s.state.xAxis[s.state.xAxis.length-1],a=s.state.hrReadings.concat(t+20),n=s.state.xAxis.concat(e+.5)),s.setState({xAxis:n,hrReadings:a})},s.state={hrReadings:[90,90,90,130,130,130],xAxis:[0,.5,1,1.5,2,2.5],maxReadings:10,options:{elements:{point:{radius:0}},plugins:{legend:{display:!1}},scales:{x:{display:!1},y:{display:!1,suggestedMin:40,suggestedMax:200}}}},s}return Object(o.a)(a,[{key:"render",value:function(){var t={labels:this.state.xAxis,datasets:[{data:this.state.hrReadings,fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.7)",borderWidth:5,tension:.2}]};return Object(h.jsx)("div",{className:"graphContainer",children:Object(h.jsx)(p.a,{className:"lineGraph",options:this.state.options,data:t})})}}]),a}(n.a.Component),b=a.p+"static/media/testImage.26d51764.jpg",f=a(13),m=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){return Object(c.a)(this,a),e.call(this,t)}return Object(o.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"topBar",children:[Object(h.jsx)("div",{className:"signInButton topBarButton",onClick:this.props.logout,children:"Sign Out"}),Object(h.jsx)("div",{className:"profileButton topBarButton"}),Object(h.jsx)("div",{className:"bpmButton topBarButton",children:"Sport"}),Object(h.jsxs)("div",{className:"pageHeader",children:[Object(h.jsx)("span",{className:"heart",children:"H3art"}),"Beatz"]}),Object(h.jsx)("div",{className:"invertedButton topBarButton",children:"BPMFlip"}),Object(h.jsx)("div",{className:"therapyModeButton topBarButton",children:"Therapy"}),Object(h.jsx)(f.b,{to:"/playlist",className:"settingsButton topBarButton",children:"Playlists"})]})}}]),a}(n.a.Component),v=a(27),y=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var s;return Object(c.a)(this,a),(s=e.call(this,t)).getTracks=function(){var t="https://api.spotify.com/v1/playlists/".concat(s.state.favoritePlaylistId,"/tracks");fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+s.props.token}}).then((function(t){return t.json()})).then((function(t){var e,a=[],n=Object(u.a)(t.items);try{for(n.s();!(e=n.n()).done;){var i=e.value;a.push(i)}}catch(r){n.e(r)}finally{n.f()}s.setState({tracks:a})}))},s.componentDidMount=function(){if(null!=s.state.favoritePlaylistId&&null!=s.state.favoritePlaylistLink){var t=s.getTracks();s.setState({tracks:t})}},s.displayAlbum=function(t){t&&t.track&&t.track.image&&s.setState({albumCover:t.track.image})},s.state={favoritePlaylistLink:null!=s.props.fPlaylist?s.props.fPlaylist.uri:"spotify:artist:6HQYnRM4OzToCYPpVBInuU",favoritePlaylistId:null!=s.props.fPlaylist?s.props.fPlaylist.id:null,albumCover:b,avg:[],avgCalc:0,hrReadings:[100],xAxis:[0],tracks:[]},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"mainContent",children:[Object(h.jsx)(m,{logout:this.props.signout}),Object(h.jsx)("div",{className:"albumContainer",children:Object(h.jsx)("img",{className:"albumCover",src:this.state.albumCover,alt:b})}),Object(h.jsx)(j,{}),Object(h.jsx)(v.a,{token:this.props.token,callback:this.displayAlbum,uris:[this.state.favoritePlaylistLink],styles:{bgColor:"#000",sliderColor:"#ff6384",trackArtistColor:"#fff",trackNameColor:"#fff",color:"#fff"}})]})}}]),a}(n.a.Component),O=["user-read-playback-state","streaming","user-read-email","user-read-private","user-modify-playback-state","user-library-read","user-library-modify"],x=window.location.hash.substring(1).split("&").reduce((function(t,e){if(e){var a=e.split("=");t[a[0]]=decodeURIComponent(a[1])}return t}),{});window.location.hash="";var g=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var s;return Object(c.a)(this,a),(s=e.call(this,t)).componentDidMount=function(){var t=x.access_token;t&&(s.setState({token:t}),s.props.updateToken(t))},s.state={token:""},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"mainContainer",children:[Object(h.jsxs)("div",{className:"pageHeader",children:[Object(h.jsx)("span",{className:"heart",children:"H3art"}),"Beatz"]}),Object(h.jsx)("div",{className:"loginContainer",children:Object(h.jsxs)("div",{className:"loginWindow",children:[Object(h.jsx)("div",{className:"loginHeader",children:"Login"}),""===this.state.token?Object(h.jsx)("a",{className:"loginButton",href:"".concat("https://accounts.spotify.com/authorize?","client_id=").concat("0f76c14b4897491db4970cd235a10161","&redirect_uri=").concat("https://h3artbeatz.herokuapp.com/","&scope=").concat(O.join("%20"),"&response_type=token&show_dialog=true"),children:"Login With Spotify"}):Object(h.jsx)("div",{})]})})]})}}]),a}(n.a.Component),k=a(29),N=a(6),B=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var s;return Object(c.a)(this,a),(s=e.call(this,t)).componentDidMount=function(){s.props.playlistMethod()},s.state={currentlySelected:null},s}return Object(o.a)(a,[{key:"render",value:function(){var t=this;return Object(h.jsxs)("div",{className:"playlistPageContent",children:[Object(h.jsx)("div",{className:"topBar",children:Object(h.jsxs)("div",{className:"pageHeader",children:[Object(h.jsx)("span",{className:"heart",children:"H3art"}),"Beatz"]})}),Object(h.jsx)(f.b,{to:"/",className:"backButton",children:"Back"}),Object(h.jsx)("div",{className:"playlistHeader",children:"Playlists:"}),Object(h.jsx)("div",{className:"playlistsContainer",children:this.props.playlists.map((function(e){return Object(h.jsxs)("div",{className:t.state.currentlySelected===e.name?"playlistItem selected":"playlistItem",children:[Object(h.jsx)("div",{className:"pName",children:e.name}),Object(h.jsx)("div",{className:"selectButton",onClick:function(){t.props.favoritePlaylist(e),t.setState({currentlySelected:e.name})},children:"Favorite"})]},e.name)}))})]})}}]),a}(n.a.Component),C=new k.a,P=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var s;return Object(c.a)(this,a),(s=e.call(this,t)).getPlaylists=function(){fetch("https://api.spotify.com/v1/me/playlists",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+s.state.token}}).then((function(t){return t.json()})).then((function(t){s.setState({playlists:t.items})}))},s.setFavoritePlaylist=function(t){s.setState({favoritePlaylist:t})},s.setToken=function(t){C.set("spotifyToken",t,{path:"/"}),s.setState({token:t})},s.removeToken=function(){C.remove("spotifyToken"),s.setState({token:null})},s.state={token:C.get("spotifyToken"),playlists:[],favoritePlaylist:null},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(f.a,{children:Object(h.jsxs)(N.c,{children:[Object(h.jsx)(N.a,{path:"/playlist",element:Object(h.jsx)(B,{playlistMethod:this.getPlaylists,playlists:this.state.playlists,favoritePlaylist:this.setFavoritePlaylist})}),null!=this.state.token?Object(h.jsx)(N.a,{path:"/",element:Object(h.jsx)(y,{signout:this.removeToken,token:this.state.token,fPlaylist:this.state.favoritePlaylist})}):Object(h.jsx)(N.a,{path:"/",element:Object(h.jsx)(g,{updateToken:this.setToken})})]})})})}}]),a}(n.a.Component),T=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,40)).then((function(e){var a=e.getCLS,s=e.getFID,n=e.getFCP,i=e.getLCP,r=e.getTTFB;a(t),s(t),n(t),i(t),r(t)}))};r.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(P,{})}),document.getElementById("root")),T()}},[[39,1,2]]]);
//# sourceMappingURL=main.cf9a3151.chunk.js.map